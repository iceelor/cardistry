f2e-server基于nodejs平台的HTTP服务器，提供了基本的模板引擎以及常用的前端工具。a nodejs based http-server with easy-template-engine and several F2E-utilsgithub: https://github.com/shy2850/node-server.git/安装 f2e-server : $ npm install f2e-server进入服务器根目录: $ cd node_modules/f2e-server修改hosts[windows]:$ node host启动f2e-server服务:$ npm start恢复hosts[windows]:$ node hosts reset配置文件: nodeLib/config/conf.js文件服务器f2e-server 提供基本的文件服务器功能, 支持通过配置文件索引项目根目录绝对路径 【root】欢迎页面配置相对root的路径 【welcome】404页面配置文件绝对路径 【notFound】配置是否支持文件夹目录展示 【fs_mod】当前服务端口号 【port】当期服务可支持最大并发链接数 【maxConnections】模板引擎f2e-server 默认使用underscore模板, 参见 nodeLib/common/handle.js#L18默认开启模板引擎 【runJs】 以及依赖的配置 【handle】关闭后很多插件功能将失效支持模板的引用和包含 http://www.w3cfuns.com/blog-5443978-5399247.html/$include[引用片段路径]$belong[当前片段被包含母版路径]$[placeholder] 包含母版中标记引入片段位置模板运行时环境变量:request.data: GET请求参数包装, 如 request.data.type 表示GET请求参数type的值request.post: POST请求参数包装, 获取方式同GET, __ 注:GET请求时, request.post === null __request.util:request.$:request.util.mime: f2e-server扩展mime模块request.util.conf: 当前服务配置request.util.staticServer: 预留staticconf配置的urlrequest.$.title: 当前请求路径 pathnamerequest.$.host: 当前hostrequest.$.fileList: 文件夹列表存储request: 包转完成的当前请求response: 原生的响应对象require: nodejs 全局require_: underscore源对象资源合并和压缩服务器内置 uglify-js 和 cssmin 支持, 【debug】 为false时开启使用 $include 功能可以进行资源文件的动态合并中间件支持f2e-server采用中间件的动态解析模式, 参见 nodeLib/common/middleware.js默认支持 less / coffee / jade / markdown 扩展,npm install后直接使用对于其他需要且未被收录的扩展, 强烈建议开发者自己尝试修改源代码支持项目输出模板、 资源合并压缩、中间件支持(或混搭使用) 均被支持输出到结果文件目录中 【output】中间件中 在请求头设置 middleware-type 属性, 将能够在输出时, 修改响应的文件后缀名如在开发中使用响应后缀,建议参考 【agent】配置服务器host转发功能f2e-server 支持本地环境通过不同的hosts域名分别请求不同的项目nodeLib/config/conf.js 中所有返回key都被认为是一组本地域名类型 (如：localhost / test.abc.com / test.xuan.news.cn)如果多组配置使用了相同的端口号, 将需要使用指定域名访问(需要修改hosts文件)在安装目录中提供了快速修改备份/恢复 hosts文件的模块,可以直接使用 node hosts 修改 或 node hosts reset 恢复修改前的hosts文件默认使用windows环境的系统路径 (linux/unix 请根据需求修改)权限不足时，抛出异常，请使用管理员权限运行！代理功能f2e-server 方便的支持了代理远程请求功能 【agent】配置get方法通过分析请求路径，返回一组相关代理配置host: 远程代理的host 默认为 当前hostport: 远程代理的端口号, 默认为 80path: 路径转换方式, 可以根据本地路径转换成远程指定其他路径, 默认跟远程路径相同cookie: 远程代理cookie ( 直接copy远程请求的请求头中的cookie )插件功能f2e-server 提供了一些有用的插件, 提倡开发者扩展agent: 快速代理跨域请求如 /agent?http://news.cnbuild: 即项目输出config: 临时修改当前服务配置项[Beta版]favicon.ico: 单独进行favicon.ico实现prettify: 代码的服务端highlight实现, 支持远程请求同agent插件 /prettify?http://news.cnpsd: 读取服务器目录下的psd文件并且实时转化成png, 展示到浏览器中upload: 文件上传功能依赖插件, PS: post请求处理同时使用该模块实现